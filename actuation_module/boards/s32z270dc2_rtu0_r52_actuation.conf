# Copyright (c) 2023, Arm Limited.
# SPDX-License-Identifier: Apache-2.0

# DDS network interface
CONFIG_DDS_NETWORK_INTERFACE="ethernet@74b00000"

# Thread config
CONFIG_MAX_PTHREAD_COUNT=16
CONFIG_MAX_PTHREAD_MUTEX_COUNT=12000
CONFIG_MAX_PTHREAD_COND_COUNT=127
CONFIG_MAX_PTHREAD_KEY_COUNT=5
CONFIG_THREAD_NAME=y
CONFIG_THREAD_MAX_NAME_LEN=32
CONFIG_THREAD_LOCAL_STORAGE=y

CONFIG_IDLE_STACK_SIZE=16384
CONFIG_MAIN_STACK_SIZE=32768
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=16384

# Memory config
CONFIG_NEWLIB_LIBC_MIN_REQUIRED_HEAP_SIZE=524288

# Stack sizes
CONFIG_ETH_NXP_S32_RX_THREAD_STACK_SIZE=16384

# DHCP
CONFIG_NET_DHCPV4=y
CONFIG_NET_DHCPV4_INITIAL_DELAY_MAX=2

# SMP
CONFIG_SMP=n

# Network - ARM board optimized for memory constraints
# CONFIG_NET_MAX_CONN=10
# CONFIG_NET_PKT_RX_COUNT=128
# CONFIG_NET_PKT_TX_COUNT=128
# CONFIG_NET_BUF_TX_COUNT=128
# CONFIG_NET_BUF_RX_COUNT=128
# CONFIG_NET_BUF_DATA_SIZE=1600
# CONFIG_NET_MAX_CONTEXTS=20

# CONFIG_NET_RX_STACK_SIZE=4096
# CONFIG_NET_TX_STACK_SIZE=4096
# CONFIG_NET_CONTEXT_NET_PKT_POOL=y
# CONFIG_NET_MAX_CONTEXTS=400

# RX thread stack size
CONFIG_NET_RX_STACK_SIZE=16384
# How many packet receives can be pending at the same time
CONFIG_NET_PKT_RX_COUNT=1024
# How many packet sends can be pending at the same time
CONFIG_NET_PKT_TX_COUNT=1024
# How many network buffers are allocated for sending data
CONFIG_NET_BUF_TX_COUNT=1024
# Size of each network data fragment
CONFIG_NET_BUF_DATA_SIZE=1600
# How many network buffers are allocated for receiving data
CONFIG_NET_BUF_RX_COUNT=1024
# Net_buf TX pool / context
CONFIG_NET_CONTEXT_NET_PKT_POOL=y
# Number of network contexts to allocate
CONFIG_NET_MAX_CONTEXTS=300

# Enables thread local storage (TLS) support in kernel
CONFIG_THREAD_LOCAL_STORAGE=y

# Set network settings for applications
CONFIG_NET_CONFIG_SETTINGS=y
# Enables managing different aspects of the network stack
CONFIG_NET_MGMT=y
# Stack size for the inner thread handling event callbacks
CONFIG_NET_MGMT_EVENT_STACK_SIZE=16384
